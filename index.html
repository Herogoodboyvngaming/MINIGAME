<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MINI GAME ƒê∆Ø·ª¢C T·∫†O B·ªûI NGUY·ªÑN CH√ç D·ª∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
    <style>
        body{font-family:'Roboto',sans-serif;text-align:center;background:linear-gradient(135deg,#ff9a9e,#fad0c4);margin:0;padding:20px;min-height:100vh;color:#333;background-attachment:fixed}
        h1{font-family:'Comic Neue',cursive;font-size:3em;color:#ff4757;text-shadow:3px 3px 0 #fff;margin:20px 0 0}
        h2{font-size:1.8em;color:#e84393;margin:10px 0 40px}
        .heart{color:#ff6b6b;animation:pulse 1.5s infinite}
        @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
        .page-nav{margin:30px 0}
        .page-btn{padding:15px 40px;font-size:1.6em;margin:0 10px;border:none;border-radius:50px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 5px 15px rgba(255,107,129,0.4);transition:all .3s}
        .page-btn:hover{background:#ff4757}
        .page-btn.active{background:#2ed573}
        .page{display:none}
        .page.active{display:block}
        .menu{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-bottom:40px}
        .game-btn{padding:20px 30px;font-size:1.4em;border:none;border-radius:20px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 8px 20px rgba(255,107,129,0.4);transition:all .3s;min-width:200px}
        .game-btn:hover{background:#ff4757;transform:translateY(-10px) scale(1.05)}
        .game-area{display:none;margin:40px auto;padding:30px;border-radius:20px;background:rgba(255,255,255,0.9);box-shadow:0 10px 30px rgba(0,0,0,0.2);max-width:800px}
        .game-area.active{display:block;animation:fadeIn .6s}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        h3{font-family:'Comic Neue',cursive;font-size:2.5em;color:#2f3542;margin-bottom:20px}
        button{padding:12px 25px;margin:10px;font-size:17px;border:none;border-radius:50px;background:#ff6b81;color:#fff;cursor:pointer;box-shadow:0 5px 15px rgba(255,107,129,0.4);transition:all .3s}
        button:hover{background:#ff4757;transform:scale(1.1)}
        .choice-btns button{width:110px;height:110px;font-size:55px;border-radius:20px;background:#ffa502;box-shadow:0 8px 20px rgba(255,165,2,0.4)}
        .choice-btns button:hover{background:#ff6348;transform:scale(1.15)}
        #board{display:grid;grid-template-columns:repeat(3,120px);gap:10px;margin:30px auto;justify-content:center}
        .cell{width:120px;height:120px;background:#fff;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:60px;cursor:pointer;box-shadow:0 5px 15px rgba(0,0,0,0.1);transition:all .3s}
        .cell:hover{background:#dfe4ea;transform:scale(1.05)}
        .result{font-size:1.6em;font-weight:bold;min-height:60px;margin:20px 0}
        .modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;z-index:1000;overflow:hidden}
        .modal-content{background:#fff;padding:40px;border-radius:30px;text-align:center;max-width:90%;box-shadow:0 20px 40px rgba(0,0,0,0.3);animation:bounceIn .8s;position:relative;z-index:2}
        @keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
        .modal-content h4{font-family:'Comic Neue',cursive;font-size:3em;margin:20px 0}
        .win{color:#2ed573}.lose{color:#ff4757}
        .modal-emoji{font-size:6em;margin:20px 0}
        .rain{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
        .rain-drop{position:absolute;width:2px;height:50px;background:linear-gradient(transparent,#6496ff);animation:fall linear infinite}
        @keyframes fall{0%{transform:translateY(-100px)}100%{transform:translateY(100vh)}}
        .rating{margin:50px 0;padding:30px;background:rgba(255,255,255,0.8);border-radius:20px;max-width:700px;margin-left:auto;margin-right:auto}
        .rating p{font-size:1.8em;color:#ff4757;margin-bottom:20px}
        .stars{display:flex;justify-content:center;gap:15px}
        .star{font-size:60px;cursor:pointer;color:#ccc;transition:all .3s}
        .star:hover,.star.selected{color:#ffd700;transform:scale(1.2)}
        #footer{margin-top:60px;padding:25px;background:rgba(255,255,255,0.8);border-radius:20px;max-width:700px;margin-left:auto;margin-right:auto}
        .form-section{display:none;margin-top:20px;padding:20px;background:rgba(255,255,255,0.6);border-radius:15px}
        input[type="email"],textarea{padding:15px;width:80%;max-width:500px;border-radius:20px;border:2px solid #ff6b81;font-size:16px;margin:10px 0;box-sizing:border-box}
        textarea{height:120px;resize:vertical}
        .success-msg{display:none;background:#2ed573;color:#fff;padding:20px;border-radius:20px;font-size:1.4em;margin:20px auto;max-width:600px}
        #flappy-canvas{background:linear-gradient(#87CEEB,#E0F7FA);border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,0.2)}
        #snake-controls{margin:20px 0;display:grid;grid-template-areas:". up .""left down right";gap:10px;max-width:200px;margin-left:auto;margin-right:auto}
        #snake-up{grid-area:up}#snake-left{grid-area:left}#snake-down{grid-area:down}#snake-right{grid-area:right}
        #snake-controls button{width:60px;height:60px;font-size:30px;background:#ffa502}
        #snake-controls button:hover{background:#ff6348}
        @media(max-width:600px){h1{font-size:2.5em}h2{font-size:1.6em}.game-btn{font-size:1.2em;min-width:160px;padding:15px}#board{grid-template-columns:repeat(3,90px)}.cell{width:90px;height:90px;font-size:50px}.choice-btns button{width:90px;height:90px;font-size:45px}.modal-content h4{font-size:2.2em}.modal-emoji{font-size:4em}.star{font-size:45px}}
    </style>
</head>
<body>
    <h1>MINI GAME ƒê∆Ø·ª¢C T·∫†O B·ªûI NGUY·ªÑN CH√ç D·ª∞</h1>
    <h2>CH√öC C√ÅC B·∫†N CH∆†I VUI V·∫∫, C√ì L·ªñI B·∫§M V√ÄO N√öT REPORT BUGS <span class="heart">‚ô•Ô∏è</span></h2>

    <div class="page-nav">
        <button class="page-btn active" onclick="showPage(1)">TRANG 1</button>
        <button class="page-btn" onclick="showPage(2)">TRANG 2 - C·∫¨P NH·∫¨T M·ªöI</button>
    </div>

    <div id="page1" class="page active">
        <div class="menu">
            <button class="game-btn" onclick="showGame('rps')">ü™®‚úã‚úåÔ∏è O·∫≥n T√π T√¨</button>
            <button class="game-btn" onclick="showGame('tic')">‚ùå‚≠ï C·ªù Caro</button>
            <button class="game-btn" onclick="showGame('baucua')">üé≤ B·∫ßu Cua T√¥m C√°</button>
            <button class="game-btn" onclick="showGame('hangman')">üî§ ƒêu·ªïi H√¨nh B·∫Øt Ch·ªØ</button>
            <button class="game-btn" onclick="showGame('snake')">üêç R·∫Øn SƒÉn M·ªìi</button>
        </div>
    </div>

    <div id="page2" class="page">
        <h3 style="font-size:2.8em;color:#ff4757;margin:50px 0">
            C√ÅC GAME M·ªöI S·∫º ƒê∆Ø·ª¢C C·∫¨P NH·∫¨T ·ªû TRANG N√ÄY N·∫æU C√ì ‚ô•Ô∏è
        </h3>
        <div class="menu">
            <button class="game-btn" onclick="showGame('flappy')">üïäÔ∏è Flappy Bird (M·ªöI NH·∫§T!!!)</button>
        </div>
    </div>

    <!-- C√°c game kh√°c gi·ªØ nguy√™n ho√†n to√†n -->

    <div id="flappy" class="game-area">
        <h3>üïäÔ∏è Flappy Bird</h3>
        <canvas id="flappy-canvas" width="400" height="600" style="background:linear-gradient(#87CEEB,#E0F7FA);border-radius:15px;box-shadow:0 5px 20px rgba(0,0,0,0.2);display:block;margin:0 auto;"></canvas>
        <p class="result">ƒêi·ªÉm: <span id="flappy-score">0</span></p>
        <p style="font-size:1.4em;color:#ff4757;margin:10px 0;"><strong>B·∫†N PH·∫¢I ƒê·ª¶ 100 ƒêI·ªÇM TH√å M·ªöI TH·∫ÆNG TR√í CH∆†I N√ÄY</strong></p>
        <p><small>B·∫•m m√†n h√¨nh/click ƒë·ªÉ nh·∫£y üê¶</small></p>
        <button onclick="restartFlappy()">üîÑ Ch∆°i l·∫°i</button>
        <button onclick="backToMenu()">üîô V·ªÅ menu</button>
    </div>

    <!-- Modal, rating, footer gi·ªØ nguy√™n -->

    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
    <script>
        // C√°c h√†m chung v√† game kh√°c gi·ªØ nguy√™n

        // Flappy Bird - CH·ªà S·ª¨A PH·∫¶N N√ÄY THEO Y√äU C·∫¶U M·ªöI
        let birdX=80,birdY=300,birdSize=24,birdVelocity=0,gravity=0.35,jumpStrength=-8,scoreFlappy=0,pipes=[],flappyCanvas,flappyCtx,flappyInterval;
        const WIN_SCORE = 100; // Th·∫Øng khi ƒë·ªß 100 ƒëi·ªÉm
        function initFlappy(){
            flappyCanvas=document.getElementById('flappy-canvas');flappyCtx=flappyCanvas.getContext('2d');
            birdY=300;birdVelocity=0;scoreFlappy=0;document.getElementById('flappy-score').innerText=scoreFlappy;
            pipes=[];spawnPipe();
            if(flappyInterval)clearInterval(flappyInterval);
            flappyInterval=setInterval(flappyLoop,20);
            flappyCanvas.onclick=jumpFlappy;
            flappyCanvas.ontouchstart=e=>{e.preventDefault();jumpFlappy();};
        }
        function jumpFlappy(){birdVelocity=jumpStrength;}
        function spawnPipe(){
            const gap=170,height=Math.floor(Math.random()*(flappyCanvas.height-gap-220))+110;
            pipes.push({x:flappyCanvas.width,top:height,bottom:height+gap,scored:false});
        }
        function flappyLoop(){
            birdVelocity+=gravity;birdY+=birdVelocity;
            if(birdY<0||birdY+birdSize>flappyCanvas.height){gameOverFlappy();return;}
            pipes.forEach(p=>p.x-=2);
            if(pipes[0].x<-60)pipes.shift();
            if(pipes.length<5&&pipes[pipes.length-1].x<flappyCanvas.width-220)spawnPipe();
            pipes.forEach(p=>{
                const birdLeft=birdX+10,birdRight=birdX+birdSize-10,birdTop=birdY+10,birdBottom=birdY+birdSize-10;
                if(p.x<birdRight&&p.x+50>birdLeft){
                    if(birdTop<p.top||birdBottom>p.bottom){gameOverFlappy();}
                }
                if(!p.scored && p.x+50<birdX){
                    p.scored=true;
                    scoreFlappy++;
                    document.getElementById('flappy-score').innerText=scoreFlappy;
                    if(scoreFlappy===WIN_SCORE){
                        clearInterval(flappyInterval);
                        showResultModal('win','CH√öC M·ª™NG TH·∫ÆNG CU·ªòC!!! üéâ','B·∫°n ƒë√£ ƒë·∫°t ƒë·ªß 100 ƒëi·ªÉm! Si√™u gi·ªèi lu√¥n ‚ô•Ô∏è','üèÜ‚ú®üéä');
                    }
                }
            });
            drawFlappy();
        }
        function drawFlappy(){
            flappyCtx.clearRect(0,0,flappyCanvas.width,flappyCanvas.height);
            flappyCtx.fillStyle='#228B22';
            pipes.forEach(p=>{
                flappyCtx.fillRect(p.x,0,50,p.top);
                flappyCtx.fillRect(p.x,p.bottom,50,flappyCanvas.height-p.bottom);
            });
            flappyCtx.fillStyle='#FFD700';
            flappyCtx.fillRect(birdX,birdY,birdSize,birdSize);
        }
        function gameOverFlappy(){
            clearInterval(flappyInterval);
            showResultModal('lose','GAME OVER üò≠','üíîüïäÔ∏è\nƒêi·ªÉm: '+scoreFlappy + '\nüò¢','üíîüïäÔ∏èüò¢');
        }
        function restartFlappy(){clearInterval(flappyInterval);initFlappy();}

        // C√°c h√†m kh√°c gi·ªØ nguy√™n
    </script>
</body>
</html>
